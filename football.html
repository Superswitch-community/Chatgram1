<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2D Car Game</title>
<style>
body {
    margin: 0;
    background: #333;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    font-family: sans-serif;
}
canvas {
    background: #2c7a7b; /* Road/ground color */
    display: block;
    border: 5px solid white;
    border-radius: 10px;
}
#scoreboard {
    position: absolute;
    top: 10px;
    color: white;
    font-size: 24px;
    font-weight: bold;
    text-align: center;
    width: 100%;
}
</style>
</head>
<body>

<div id="scoreboard">Score: 0</div>
<canvas id="gameCanvas" width="500" height="600"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let car = { x: 225, y: 500, width: 50, height: 80, speed: 5 };
let obstacles = [];
let score = 0;
let keys = {};

// Handle input
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

// Create obstacles
function createObstacle() {
    let width = Math.random() * 80 + 40;
    let x = Math.random() * (canvas.width - width);
    obstacles.push({ x: x, y: -50, width: width, height: 20, speed: 4 + Math.random()*2 });
}

// Update game
function update() {
    // Move car
    if(keys['ArrowLeft'] && car.x > 0) car.x -= car.speed;
    if(keys['ArrowRight'] && car.x + car.width < canvas.width) car.x += car.speed;
    if(keys['ArrowUp'] && car.y > 0) car.y -= car.speed;
    if(keys['ArrowDown'] && car.y + car.height < canvas.height) car.y += car.speed;

    // Move obstacles
    obstacles.forEach(obs => obs.y += obs.speed);

    // Remove off-screen obstacles and score points
    obstacles = obstacles.filter(obs => {
        if(obs.y > canvas.height){
            score++;
            document.getElementById('scoreboard').innerText = "Score: " + score;
            return false;
        }
        return true;
    });

    // Collision detection
    for(let obs of obstacles){
        if(car.x < obs.x + obs.width &&
           car.x + car.width > obs.x &&
           car.y < obs.y + obs.height &&
           car.y + car.height > obs.y){
               alert("Game Over! Score: " + score);
               location.reload();
           }
    }

    // Occasionally create new obstacles
    if(Math.random() < 0.02) createObstacle();
}

// Draw everything
function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Draw car
    ctx.fillStyle = 'red';
    ctx.fillRect(car.x, car.y, car.width, car.height);

    // Draw obstacles
    ctx.fillStyle = 'black';
    obstacles.forEach(obs => ctx.fillRect(obs.x, obs.y, obs.width, obs.height));
}

// Game loop
function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

// Start game
gameLoop();
</script>

</body>
</html>
